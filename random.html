<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>猜骰子</title>
</head>
<body>
<div id="result"></div>
<script>

    var dice = Math.floor(Math.random() * 6) + 1;
    var bingo = false;
    var outputText, diff;

    console.info(dice);

    function guessDice() {
        if (bingo) {
            return;
        }
        var guess = prompt("请猜骰子大小！");
        if(!Number.isInteger(guess/1)||guess>6||guess<1){
            alert("猜骰子请输入1~6的数字！");
            return;
        }
        diff = Math.abs(guess - dice);
        if (guess === dice) {
            outputText = "赌神，你猜中了！" + "<br/><img src=\"images/" + dice + ".png\" />";
            bingo = true;
        } else if (guess > dice) {
            if (diff > 1) {
                outputText = "你猜得太大了！";
            } else {
                outputText = "你猜得大了一丢丢！";
            }
        } else {
            if (diff > 1) {
                outputText = "你猜得太小了！";
            } else {
                outputText = "你猜得小了一丢丢！";
            }
        }
        document.getElementById("result").innerHTML = outputText;
    }

    guessDice();
    guessDice();
    guessDice();

</script>
</body>
</html>